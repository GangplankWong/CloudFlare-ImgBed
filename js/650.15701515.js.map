{"version":3,"file":"js/650.15701515.js","mappings":"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","sources":["webpack://sanyue_imghub/./src/views/Login.vue","webpack://sanyue_imghub/./src/views/Login.vue?240b"],"sourcesContent":["<template>\n    <div class=\"login\">\n        <img id=\"bg1\" class=\"background-image1\" alt=\"Background Image\"/>\n        <img id=\"bg2\" class=\"background-image2\" alt=\"Background Image\"/>\n        <div class=\"login-container\">\n            <h1>Login</h1>\n            <el-input \n                class=\"password-input\" \n                v-model=\"password\" \n                placeholder=\"输入认证码，若未设置留空即可~\" \n                type=\"password\" \n                show-password\n                @keyup.enter.native=\"login\"\n                >\n            </el-input>\n            <el-button class=\"submit\" type=\"primary\" @click=\"login\">submit</el-button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport cookies from 'vue-cookies'\nimport axios from 'axios'\nimport { mapGetters } from 'vuex'\n\nexport default {\n    data() {\n        return {\n            password: '',\n            writtenPass: '',\n            bingWallPaperIndex: 0,\n            customWallPaperIndex: 0\n        }\n    },\n    computed: {\n        ...mapGetters(['userConfig', 'bingWallPapers'])\n    },\n    mounted() {\n        const bg1 = document.getElementById('bg1')\n        const bg2 = document.getElementById('bg2')\n        if (this.userConfig?.loginBkImg === 'bing') {\n            //bing壁纸轮播\n            this.$store.dispatch('fetchBingWallPapers').then(() => {\n                bg1.src = this.bingWallPapers[this.bingWallPaperIndex]?.url\n                bg1.onload = () => {\n                    bg1.style.opacity = 1\n                }\n                setInterval(() => {\n                    let curBg = bg1.style.opacity != 0 ? bg1 : bg2\n                    let nextBg = bg1.style.opacity != 0 ? bg2 : bg1\n                    curBg.style.opacity = 0\n                    this.bingWallPaperIndex = (this.bingWallPaperIndex + 1) % this.bingWallPapers.length\n                    nextBg.src = this.bingWallPapers[this.bingWallPaperIndex]?.url\n                    nextBg.onload = () => {\n                        nextBg.style.opacity = 1\n                    }\n                }, 3000)\n            })\n        } else if (this.userConfig?.loginBkImg instanceof Array && this.userConfig?.loginBkImg?.length > 1) {\n            //自定义壁纸组轮播\n            bg1.src = this.userConfig.loginBkImg[this.customWallPaperIndex]\n            bg1.onload = () => {\n                bg1.style.opacity = 1\n            }\n            setInterval(() => {\n                let curBg = bg1.style.opacity != 0 ? bg1 : bg2\n                let nextBg = bg1.style.opacity != 0 ? bg2 : bg1\n                curBg.style.opacity = 0\n                this.customWallPaperIndex = (this.customWallPaperIndex + 1) % this.userConfig.loginBkImg.length\n                nextBg.src = this.userConfig.loginBkImg[this.customWallPaperIndex]\n                nextBg.onload = () => {\n                    nextBg.style.opacity = 1\n                }\n            }, 3000)\n        } else if (this.userConfig?.loginBkImg instanceof Array && this.userConfig?.loginBkImg?.length == 1) {\n            //单张自定义壁纸\n            bg1.src = this.userConfig.loginBkImg[0]\n            bg1.onload = () => {\n                bg1.style.opacity = 1\n            }\n        } else {\n            //默认壁纸\n            bg1.src = 'https://imgbed.sanyue.site/file/0dbd5add3605a0b2e8994.jpg'\n            bg1.onload = () => {\n                bg1.style.opacity = 1\n            }\n        }\n    },\n    methods: {\n        login() {\n            // set authCode to Cookie, expires in 2 weeks\n            if (this.password === '') {\n                this.writtenPass = 'unset'\n            } else {\n                this.writtenPass = this.password\n            }\n            axios.post('/login', {\n                authCode: this.password\n            }).then(res => {\n                if (res.status !== 200) {\n                    this.$message.error('登录失败，请检查认证码是否正确~')\n                    return\n                }\n                cookies.set('authCode', this.writtenPass, '14d')\n                this.$router.push('/')\n                this.$message.success('登录成功~')\n            }).catch(err => {\n                this.$message.error('登录失败，请检查认证码是否正确~')\n            })\n        }\n    }\n}\n</script>\n\n<style scoped>\n.login {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n    transition: background-image 1s ease-in-out;\n    background-size: cover;\n    background-attachment: fixed;\n}\n.login-container {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    align-items: center;\n    height: 40vh;\n    width: 40vw;\n    border-radius: 12px;\n    box-shadow: 0 0 12px rgba(0, 0, 0, 0.12);\n    background-color: rgba(255, 255, 255, 0.6);\n    backdrop-filter: blur(8px);\n    transition: all 0.3s ease;\n}\n.login-container:hover {\n    box-shadow: 0 0 12px 4px rgba(0, 0, 0, 0.24);\n    transform: translateY(-5px);\n}\n.password-input {\n    margin-bottom: 15px;\n    width: 30vw;\n}\n.submit {\n    margin-top: 10px;\n}\n.background-image1 {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    z-index: -1;\n    opacity: 0;\n    transition: all 1s ease-in-out;\n}\n.background-image2 {\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    z-index: -1;\n    opacity: 0;\n    transition: all 1s ease-in-out;\n}\n</style>","import { render } from \"./Login.vue?vue&type=template&id=2239fa13&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=2239fa13&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2239fa13\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","alt","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_createVNode","_component_el_input","modelValue","$data","password","_cache","$event","placeholder","type","onKeyup","_withKeys","$options","login","_component_el_button","onClick","default","_withCtx","_createTextVNode","_","data","writtenPass","bingWallPaperIndex","customWallPaperIndex","computed","mapGetters","mounted","bg1","document","getElementById","bg2","this","userConfig","loginBkImg","$store","dispatch","then","src","bingWallPapers","url","onload","style","opacity","setInterval","curBg","nextBg","length","Array","methods","axios","post","authCode","res","status","cookies","$router","push","$message","success","error","catch","err","__exports__","render"],"sourceRoot":""}